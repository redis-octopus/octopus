(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3db9aeea"],{"02f4":function(t,e,n){var o=n("4588"),s=n("be13");t.exports=function(t){return function(e,n){var r,i,a=String(s(e)),c=o(n),l=a.length;return c<0||c>=l?t?"":void 0:(r=a.charCodeAt(c),r<55296||r>56319||c+1===l||(i=a.charCodeAt(c+1))<56320||i>57343?t?a.charAt(c):r:t?a.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var o=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var o=n("cb7c");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var o=n("52a7"),s=n("4630"),r=n("6821"),i=n("6a99"),a=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=r(t),e=i(e,!0),c)try{return l(t,e)}catch(n){}if(a(t,e))return s(!o.f.call(t,e),t[e])}},"145e":function(t,e,n){"use strict";n("f559");var o=n("f64c"),s=function(t){return function(e){try{var n=JSON.parse(e.data);if(n.Data=JSON.parse(n.Data),(""+n.Data.code).startsWith("403"))return o["a"].warn(n.Data.message);if((""+n.Data.code).startsWith("404"))return o["a"].error(n.Data.message);if(200!==n.Data.code)return o["a"].error(n.Data.message);n.Data=n.Data.message,t(n)}catch(s){console.error(s),o["a"].error("sys error")}}};e["a"]=s},"214f":function(t,e,n){"use strict";n("b0c5");var o=n("2aba"),s=n("32e9"),r=n("79e5"),i=n("be13"),a=n("2b4c"),c=n("520a"),l=a("species"),u=!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),h=!r(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=h?!r(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!h||!d||"replace"===t&&!u||"split"===t&&!p){var g=/./[f],v=n(i,f,""[t],function(t,e,n,o,s){return e.exec===c?h&&!s?{done:!0,value:g.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),S=v[0],y=v[1];o(String.prototype,t,S),s(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var o=n("aae3"),s=n("cb7c"),r=n("ebd6"),i=n("0390"),a=n("9def"),c=n("5f1b"),l=n("520a"),u=n("79e5"),p=Math.min,f=[].push,h="split",d="length",g="lastIndex",v=4294967295,S=!u(function(){RegExp(v,"y")});n("214f")("split",2,function(t,e,n,u){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[d]||2!="ab"[h](/(?:ab)*/)[d]||4!="."[h](/(.?)(.?)/)[d]||"."[h](/()()/)[d]>1||""[h](/.?/)[d]?function(t,e){var s=String(this);if(void 0===t&&0===e)return[];if(!o(t))return n.call(s,t,e);var r,i,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,h=void 0===e?v:e>>>0,S=new RegExp(t.source,u+"g");while(r=l.call(S,s)){if(i=S[g],i>p&&(c.push(s.slice(p,r.index)),r[d]>1&&r.index<s[d]&&f.apply(c,r.slice(1)),a=r[0][d],p=i,c[d]>=h))break;S[g]===r.index&&S[g]++}return p===s[d]?!a&&S.test("")||c.push(""):c.push(s.slice(p)),c[d]>h?c.slice(0,h):c}:"0"[h](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,o){var s=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,s,o):y.call(String(s),n,o)},function(t,e){var o=u(y,t,this,e,y!==n);if(o.done)return o.value;var l=s(t),f=String(this),h=r(l,RegExp),d=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(S?"y":"g"),b=new h(S?l:"^(?:"+l.source+")",g),m=void 0===e?v:e>>>0;if(0===m)return[];if(0===f.length)return null===c(b,f)?[f]:[];var w=0,$=0,x=[];while($<f.length){b.lastIndex=S?$:0;var C,k=c(b,S?f:f.slice($));if(null===k||(C=p(a(b.lastIndex+(S?0:$)),f.length))===w)$=i(f,$,d);else{if(x.push(f.slice(w,$)),x.length===m)return x;for(var O=1;O<=k.length-1;O++)if(x.push(k[O]),x.length===m)return x;$=w=C}}return x.push(f.slice(w)),x}]})},"2f21":function(t,e,n){"use strict";var o=n("79e5");t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},5147:function(t,e,n){var o=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,!"/./"[t](e)}catch(s){}}return!0}},"520a":function(t,e,n){"use strict";var o=n("0bfb"),s=RegExp.prototype.exec,r=String.prototype.replace,i=s,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(i=function(t){var e,n,i,u,p=this;return l&&(n=new RegExp("^"+p.source+"$(?!\\s)",o.call(p))),c&&(e=p[a]),i=s.call(p,t),c&&i&&(p[a]=p.global?i.index+i[0].length:e),l&&i&&i.length>1&&r.call(i[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),t.exports=i},"55dd":function(t,e,n){"use strict";var o=n("5ca1"),s=n("d8e8"),r=n("4bf8"),i=n("79e5"),a=[].sort,c=[1,2,3];o(o.P+o.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(r(this)):a.call(r(this),s(t))}})},"5dbc":function(t,e,n){var o=n("d3f4"),s=n("8b97").set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&s&&s(t,r),t}},"5f1b":function(t,e,n){"use strict";var o=n("23c6"),s=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"7cc5":function(t,e,n){"use strict";n("f559");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=n("85f2"),r=n.n(s);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r()(t,o.key,o)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var c=n("f64c"),l=n("46b8"),u=0,p=1,f=-1,h=function(){function t(e){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reconnect:!0};if(o(this,t),e.startsWith("ws"))console.log("yes");else{var r=window.location.host,i=window.location.protocol;switch(i.startsWith("https")){case!0:e="wss://"+r+e;break;default:e="ws://"+r+e;break}}this.$socket=null,this.$url=e,this.$socketStatus=u,this.$reconnect=s.reconnect,this._onclose=function(t){n.$reconnect&&n.$socketStatus!==p&&setTimeout(function(){n.Open()},1e3)},this.$onclose=[],this.$onerror=[],this.$onopen=[],this.$onmessage=[]}return a(t,[{key:"Open",value:function(){this.$socket=new WebSocket(this.$url),this.$socket.onclose=this._initOnClose(),this.$socket.onopen=this._initOnOpen(),this.$socket.onerror=this._initOnError(),this.$socket.onmessage=this._initOnMessage()}},{key:"_clean",value:function(){this.$onclose=[],this.$onerror=[],this.$onopen=[],this.$onmessage=[]}},{key:"Close",value:function(t){this.$socket&&this.$socket.close()}},{key:"OnClose",value:function(t){this.$onclose.push(t)}},{key:"OnOpen",value:function(t){this.$onopen.push(t)}},{key:"OnData",value:function(t){this.$onmessage.push(t)}},{key:"OnError",value:function(t){this.$onerror.push(t)}},{key:"Send",value:function(t){this.$socket&&this.$socket.send(t)}},{key:"SendObj",value:function(t){this.$socket&&this.$socket.send(JSON.stringify(t))}},{key:"_initOnClose",value:function(t){this.$socketStatus=u;var e=this;return function(t){e._onclose(t);for(var n=0;n<e.$onclose.length;n++)"function"===typeof e.$onclose[n]&&e.$onclose[n](t);e._clean()}}},{key:"_initOnOpen",value:function(){var t=this,e=this;return function(){t.$socketStatus=p,t.SendObj({Func:"token",Data:JSON.stringify({token:l["f"]})}),c["a"].success("ws 成功连接!");for(var n=0;n<e.$onopen.length;n++)"function"===typeof e.$onopen[n]&&e.$onopen[n]()}}},{key:"_initOnError",value:function(t){var e=this,n=this;return function(){e.$socketStatus=f;for(var o=0;o<n.$onerror.length;o++)"function"===typeof n.$onerror[o]&&n.$onerror[o](t)}}},{key:"_initOnMessage",value:function(t){var e=this;return function(t){for(var n=0;n<e.$onmessage.length;n++)"function"===typeof e.$onmessage[n]&&e.$onmessage[n](t)}}}]),t}();e["a"]=h},"85f2":function(t,e,n){t.exports=n("454f")},"8b97":function(t,e,n){var o=n("d3f4"),s=n("cb7c"),r=function(t,e){if(s(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},9093:function(t,e,n){var o=n("ce10"),s=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,s)}},"94c9":function(t,e,n){"use strict";var o=n("a480"),s=n.n(o);s.a},a480:function(t,e,n){},a481:function(t,e,n){"use strict";var o=n("cb7c"),s=n("4bf8"),r=n("9def"),i=n("4588"),a=n("0390"),c=n("5f1b"),l=Math.max,u=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,g){return[function(o,s){var r=t(this),i=void 0==o?void 0:o[e];return void 0!==i?i.call(o,r,s):n.call(String(r),o,s)},function(t,e){var s=g(n,t,this,e);if(s.done)return s.value;var p=o(t),f=String(this),h="function"===typeof e;h||(e=String(e));var S=p.global;if(S){var y=p.unicode;p.lastIndex=0}var b=[];while(1){var m=c(p,f);if(null===m)break;if(b.push(m),!S)break;var w=String(m[0]);""===w&&(p.lastIndex=a(f,r(p.lastIndex),y))}for(var $="",x=0,C=0;C<b.length;C++){m=b[C];for(var k=String(m[0]),O=l(u(i(m.index),f.length),0),_=[],M=1;M<m.length;M++)_.push(d(m[M]));var N=m.groups;if(h){var E=[k].concat(_,O,f);void 0!==N&&E.push(N);var D=String(e.apply(void 0,E))}else D=v(k,f,O,_,N,e);O>=x&&($+=f.slice(x,O)+D,x=O+k.length)}return $+f.slice(x)}];function v(t,e,o,r,i,a){var c=o+t.length,l=r.length,u=h;return void 0!==i&&(i=s(i),u=f),n.call(a,u,function(n,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,o);case"'":return e.slice(c);case"<":a=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return n;if(u>l){var f=p(u/10);return 0===f?n:f<=l?void 0===r[f-1]?s.charAt(1):r[f-1]+s.charAt(1):n}a=r[u-1]}return void 0===a?"":a})}})},aa77:function(t,e,n){var o=n("5ca1"),s=n("be13"),r=n("79e5"),i=n("fdef"),a="["+i+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),p=function(t,e,n){var s={},a=r(function(){return!!i[t]()||c[t]()!=c}),l=s[t]=a?e(f):i[t];n&&(s[n]=l),o(o.P+o.F*a,"String",s)},f=p.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},aae3:function(t,e,n){var o=n("d3f4"),s=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},b0c5:function(t,e,n){"use strict";var o=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},bb26:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-box",attrs:{id:"main-box"}},[n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:t.data,expression:"data"}],attrs:{id:"container"}},[t._v("  "),n("code",{staticClass:"string"},[t._v("\n  ")]),t._v("\n  ")]),n("div",{staticClass:"handleButton"},[n("a-divider",{attrs:{orientation:"left"}},[t._v("通用")]),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.clearOutPut}},[t._v("清屏")]),n("router-link",{staticClass:"eachHandle",attrs:{to:"/clusterSlots?id="+t.$route.query.id}},[n("a-button",{attrs:{type:"primary"}},[t._v("集群列表")])],1),n("a-divider",{attrs:{orientation:"left"}},[t._v("节点操作")]),n("a-tooltip",{staticStyle:{float:"left"},attrs:{placement:"topLeft",title:"<id> <ip:port> <flags> <master> <ping-sent> <pong-recv> <config-epoch> <link-state> <slot> <slot> ... <slot>"}},[n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.reloadClusterNodes}},[t._v("刷新节点信息")])],1),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.clusterMeet}},[t._v("添加节点")]),n("a-drawer",{attrs:{title:"添加节点",placement:"top",closable:!0,visible:t.clusterMeetShow},on:{close:t.clusterMeetClose}},[n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"host"},on:{change:t.inputHost}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"port"},on:{change:t.inputPort}})],1),n("a-popconfirm",{attrs:{title:"确认添加节点["+t.newhost+":"+t.newport+"]进入集群么？"},on:{confirm:t.confirmAddNode}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{staticClass:"submit",staticStyle:{width:"30%",float:"left"},attrs:{type:"primary"}},[t._v("提交")])],1)],1),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.clusterForget}},[t._v("删除节点")]),n("a-drawer",{attrs:{title:"删除节点",placement:"top",closable:!0,visible:t.clusterForgetShow},on:{close:t.clusterForgetClose}},[n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"nodeid"},on:{change:t.inputNodeID}})],1),n("a-popconfirm",{attrs:{title:"确认删除节点["+t.nodeid+"]么？"},on:{confirm:t.confirmClusterForget}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{staticClass:"submit",staticStyle:{width:"30%",float:"left"},attrs:{type:"primary"}},[t._v("提交")])],1)],1),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.clusterReplicate}},[t._v("从节点分配")]),n("a-drawer",{attrs:{title:"从节点分配",placement:"top",closable:!0,visible:t.clusterReplicateShow,height:"300"},on:{close:t.clusterReplicateClose}},[n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"需要分配的节点 host"},on:{change:t.inputRepHost}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"需要分配的节点 port"},on:{change:t.inputRepPort}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"主节点 nodeid"},on:{change:t.inputRepNodeID}})],1),n("a-popconfirm",{attrs:{title:"确认设置从节点么？"},on:{confirm:t.confirmClusterReplicate}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{staticClass:"submit",staticStyle:{width:"30%",float:"left"},attrs:{type:"primary"}},[t._v("提交")])],1)],1),n("a-divider",{attrs:{orientation:"left"}},[t._v("slots 操作")]),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.slotsStats}},[t._v("未分配 slots 计算")]),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.slotsSet}},[t._v("slots 分配")]),n("a-drawer",{attrs:{title:"slots 分配",placement:"top",closable:!0,visible:t.slotsSetShow,height:"400"},on:{close:t.slotsSetClose}},[n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"需要设置为从节点的 host"},on:{change:t.inputSlotsHost}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"需要设置为从节点的 port"},on:{change:t.inputSlotsPort}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{type:"number",placeholder:"slots 起（0-16383）"},on:{change:t.inputSlotsStart}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{type:"number",placeholder:"slots 止（0-16383）"},on:{change:t.inputSlotsEnd}})],1),n("a-popconfirm",{attrs:{title:"确认进行 slots 分配？"},on:{confirm:t.confirmSlotsSet}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{staticClass:"submit",staticStyle:{width:"30%",float:"left"},attrs:{type:"primary"}},[t._v("提交")])],1)],1),n("a-button",{staticClass:"eachHandle",attrs:{type:"primary"},on:{click:t.slotsMig}},[t._v("slots 迁移")]),n("a-drawer",{attrs:{title:"slots 迁移",placement:"top",closable:!0,visible:t.slotsMigShow,height:"400"},on:{close:t.slotsMigClose}},[n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"来源节点"},on:{change:t.inputSlotsMigSource}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{placeholder:"目标节点"},on:{change:t.inputSlotsMigTarget}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{type:"number",placeholder:"slots 起（0-16383）"},on:{change:t.inputSlotsMigStart}})],1),n("div",{staticClass:"each-input"},[n("a-input",{attrs:{type:"number",placeholder:"slots 止（0-16383）"},on:{change:t.inputSlotsMigEnd}})],1),n("a-popconfirm",{attrs:{title:"确认进行 slots 迁移"},on:{confirm:t.confirmSlotsMig}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-button",{staticClass:"submit",staticStyle:{width:"30%",float:"left"},attrs:{type:"primary"}},[t._v("提交")])],1)],1)],1)])},s=[],r=(n("c5f6"),n("a481"),n("75fc")),i=(n("55dd"),n("28a5"),n("145e")),a=n("46b8"),c=n("7cc5"),l=n("f121"),u="dev",p=null,f=[],h=null,d=(new Date).getTime(),g={name:"setting_redis",data:function(){p=new c["a"](l["a"].Host+"?op="+u+"&ot="+a["f"]+"&ocid="+this.$route.query.id);var t=this;p.OnOpen(function(){p.SendObj({Func:"namespace",Data:JSON.stringify({namespace:"dev-".concat(t.$route.query.id)})})});var e=Object(i["a"])(function(e){var n,o=[];if(-1===["token","namespace"].indexOf(e.Type)){if("/redis/clusterNodes"===e.Type&&f.push("// 节点信息 <id> <ip:port> <role> <follow-node-id> <ping-sent> <pong-recv> <config-epoch> <link-state> <slots> ..."),"/redis/clusterMeet"===e.Type&&f.push("// 节点添加"),"/redis/clusterForget"===e.Type&&f.push("// 节点删除"),"/redis/setSlots"===e.Type&&f.push("// slots 添加"),"/redis/delSlots"===e.Type&&f.push("// slots 删除"),"/redis/slots/migrating"===e.Type&&f.push("// slots 迁移"),"/redis/slots/migrating/0"===e.Type){var s=e.Data.split(" ");s[0]++,s[1]++;var i="slots 迁移中:\n";i+="自 "+s[2]+" 迁移 "+s[4]+" - "+s[5]+" slots 去 "+s[3]+"\n[";for(var a=0;a<s[1]/s[0]*50;a++)i+="*";for(var c=0;c<50-s[1]/s[0]*50;c++)i+="_";return i+="] "+(s[1]/s[0]*100).toFixed(2)+" %",f=[i],i+="\n",e.Data=i,void((d+100<(new Date).getTime()||s[1]===s[0])&&(d=(new Date).getTime(),t.data=e.Data))}if("/redis/clusterSlots"===e.Type){var l=16384,u=[],p=[];f.push("// slots 统计");for(var h=0,g=[],v=0;v<e.Data.length;v++){var S=e.Data[v];p.push(S.Start,S.End),h+=S.End-S.Start+1,g.push("节点：".concat(S.Nodes[0].Id," (").concat(S.Nodes[0].Addr,")  拥有 slots: ").concat(S.Start," - ").concat(S.End))}p.sort(function(t,e){return t-e}),p[0]>0&&(u=[0,p[0]-1]);for(var y=1;y<p.length+1;y+=2)u.push(p[y]+1),p[y+1]&&u.push(p[y+1]-1);u[u.length-1]<16383&&u.push(16383);for(var b=0;b<u.length-1;b+=2)u[b]>u[b+1]||g.push("slots: ".concat(u[b]," - ").concat(u[b+1]," 待分配"));g.push("共有："+h+" 个 slots 被占用，剩余需分配 slots 总数："+(l-h)),e.Data=g.join("\n")}if("string"===typeof e.Data){o=e.Data.split("\n"),(n=f).push.apply(n,Object(r["a"])(o.filter(function(t){if(""!==t.replace(/\r|\n/g,""))return t}).map(function(t){return t})));while(f.length>200)f.shift();t.data=f.join("\n");var m=t.$el.querySelector("#container");setTimeout(function(){m.scrollTop+=1e3},100)}}});return p.Open(),p.OnData(e),{data:f,clusterMeetShow:!1,newhost:"",newport:"",clusterForgetShow:!1,nodeid:"",clusterReplicateShow:!1,repHost:"",repPort:"",repNodeID:"",slotsSetShow:!1,slotsHost:"",slotsPort:"",slotsStart:"",slotsEnd:"",slotsMigShow:!1,slotsMigSource:"",slotsMigTarget:"",slotsMigStart:"",slotsMigEnd:""}},methods:{slotsSet:function(){this.slotsSetShow=!0},slotsSetClose:function(){this.slotsSetShow=!1},inputSlotsHost:function(t){this.slotsHost=t.target.value},inputSlotsPort:function(t){this.slotsPort=t.target.value},inputSlotsStart:function(t){this.slotsStart=t.target.value},inputSlotsEnd:function(t){this.slotsEnd=t.target.value},confirmSlotsSet:function(){p.SendObj({Func:"/redis/setSlots",Data:JSON.stringify({id:this.$route.query.id,host:this.slotsHost,port:this.slotsPort,start:Number(this.slotsStart),end:Number(this.slotsEnd)})}),this.slotsSetShow=!1},slotsMig:function(){this.slotsMigShow=!0},slotsMigClose:function(){this.slotsMigShow=!1},inputSlotsMigSource:function(t){this.slotsMigSource=t.target.value},inputSlotsMigTarget:function(t){this.slotsMigTarget=t.target.value},inputSlotsMigStart:function(t){this.slotsMigStart=t.target.value},inputSlotsMigEnd:function(t){this.slotsMigEnd=t.target.value},confirmSlotsMig:function(){p.SendObj({Func:"/redis/slots/migrating",Data:JSON.stringify({id:this.$route.query.id,sourceId:this.slotsMigSource,TargetID:this.slotsMigTarget,slotsStart:Number(this.slotsMigStart),slotsEnd:Number(this.slotsMigEnd)})}),this.slotsMigShow=!1},slotsStats:function(){p.SendObj({Func:"/redis/clusterSlots",Data:JSON.stringify({id:this.$route.query.id})})},confirmClusterReplicate:function(){p.SendObj({Func:"/redis/clusterReplicate",Data:JSON.stringify({id:this.$route.query.id,host:this.repHost,port:this.repPort,nodeid:this.repNodeID})}),this.clusterReplicateShow=!1},confirmClusterForget:function(){p.SendObj({Func:"/redis/clusterForget",Data:JSON.stringify({id:this.$route.query.id,nodeid:this.nodeid})}),this.clusterForgetShow=!1},confirmAddNode:function(){p.SendObj({Func:"/redis/clusterMeet",Data:JSON.stringify({id:this.$route.query.id,host:this.newhost,port:this.newport})}),this.clusterMeetShow=!1},inputRepNodeID:function(t){this.repNodeID=t.target.value},inputRepHost:function(t){this.repHost=t.target.value},inputRepPort:function(t){this.repPort=t.target.value},inputNodeID:function(t){this.nodeid=t.target.value},inputHost:function(t){this.newhost=t.target.value},inputPort:function(t){this.newport=t.target.value},clusterForgetClose:function(){this.clusterForgetShow=!1},clusterMeetClose:function(){this.clusterMeetShow=!1},clusterReplicateClose:function(){this.clusterReplicateShow=!1},clusterReplicate:function(){this.clusterReplicateShow=!0},clusterForget:function(){this.clusterForgetShow=!0},clusterMeet:function(){this.clusterMeetShow=!0},clearOutPut:function(){f=[],this.data=""},reloadClusterNodes:function(){p.SendObj({Func:"/redis/clusterNodes",Data:JSON.stringify({id:this.$route.query.id})})}},beforeDestroy:function(){f=[],this.data="",null!==h&&window.clearInterval(h),p.Close()}},v=g,S=(n("94c9"),n("2877")),y=Object(S["a"])(v,o,s,!1,null,"01762e31",null);e["default"]=y.exports},c5f6:function(t,e,n){"use strict";var o=n("7726"),s=n("69a8"),r=n("2d95"),i=n("5dbc"),a=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,p=n("86cc").f,f=n("aa77").trim,h="Number",d=o[h],g=d,v=d.prototype,S=r(n("2aeb")(v))==h,y="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n,o,s,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:o=2,s=49;break;case 79:case 111:o=8,s=55;break;default:return+e}for(var i,c=e.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>s)return NaN;return parseInt(c,o)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(S?c(function(){v.valueOf.call(n)}):r(n)!=h)?i(new g(b(e)),n,d):b(e)};for(var m,w=n("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;w.length>$;$++)s(g,m=w[$])&&!s(d,m)&&p(d,m,u(g,m));d.prototype=v,v.constructor=d,n("2aba")(o,h,d)}},d2c8:function(t,e,n){var o=n("aae3"),s=n("be13");t.exports=function(t,e,n){if(o(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(s(t))}},f121:function(t,e,n){"use strict";e["a"]={Host:"/v1/websocket"}},f559:function(t,e,n){"use strict";var o=n("5ca1"),s=n("9def"),r=n("d2c8"),i="startsWith",a=""[i];o(o.P+o.F*n("5147")(i),"String",{startsWith:function(t){var e=r(this,t,i),n=s(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);